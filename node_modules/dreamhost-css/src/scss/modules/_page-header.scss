/*

Page Header Component

	The page header is the bar at the top of every DreamHost application
	that contains the logo and navigation

	Basic guidelines:
	- Logo:
		- For internal sites (employees & customers), the moon symbol is enough
		- For external sites (non-customers), use the full DreamHost logo
	- Colors:
		- Default state is dark blue/black
		- There is `.PageHeader--overlay` that makes the bar transparent and overlap
			any other content on the page. E.g. overlapping a nice big marketing photo
	- Page header content can vary. Use `.Fluid-Row` classes to space content.
	- `.PageHeader__nav` should contain the primary navigation
	- `.PageHeader__subnav` is for all the secondary links we may need to provide
	- Both nav and subnav supports Lists within a `.popover` as a dropdown
	- The header was built around the idea of a single breakpoint. Below that breakpoint,
		the header will show a hamburger menu link with the header taking over the screen
		when shown. Larger than that breakpoint will display the header inline.
	- There are some built-in responsive classes also but they will be inaccurate for most
		instances of the header. For specific breakpoints, you should use
		the `PageHeader--responsive()` mixin in the app specific CSS


	Usage:
	<div class="PageHeader (PageHeader--responsive-[s/m/l])">
		<div class="PageHeader__container">
			<a class="PageHeader__logo" href="//www.dreamhost.com"><img src="https://www.dreamhost.com/assets/images/logo.dreamhost.white.svg" width="157" height="23"></a>
			<ul class="PageHeader__nav PageHeader__only-show-large">
				<li><a class="PageHeader__nav-link is-active" href="#">Link</a></li>
			</ul>
			<ul class="PageHeader__subnav PageHeader__only-show-small t-right">
				<li><button class="PageHeader__subnav-link js-toggle-mobile-menu">
					<svg class="icon icon-hamburger" viewBox="0 0 24 18">
						<path d="M0 5.9L0 7.1C0 7.1 0 7.1 0 7.1L24 7.1C24 7.1 24 7.1 24 7.1L24 5.9C24 5.9 24 5.9 24 5.9L0 5.9C0 5.9 0 5.9 0 5.9ZM0 0.9L0 2.1C0 2.1 0 2.1 0 2.1L24 2.1C24 2.1 24 2.1 24 2.1L24 0.9C24 0.9 24 0.9 24 0.9L0 0.9C0 0.9 0 0.9 0 0.9ZM0 15.9L0 17.1C0 17.1 0 17.1 0 17.1L24 17.1C24 17.1 24 17.1 24 17.1L24 15.9C24 15.9 24 15.9 24 15.9L0 15.9C0 15.9 0 15.9 0 15.9ZM0 12.2C0 12.2 24 12.2 24 12.2L24 10.9C24 10.9 0 10.9 0 10.9L0 12.2Z"></path>
					</svg><!-- remove whitespace
					-->Menu
				</button></li>
			</ul>
		</div>
	</div>

*/

.PageHeader {
	padding: convertScaleToRem(3);

	background: $black;
	color: #fff;
}

.PageHeader--overlay {
	background: transparent;
	position: absolute;
	width: 100%;
	z-index: $z-3;
}

.PageHeader__container {
	@include clearfix;
	@extend .Fluid-Row;
	width: 100%;

	> * {
		@extend .Fluid-Row__item;
	}
}

.PageHeader__nav,
.PageHeader__mobile-button {
	@extend .Fluid-Row__item--primary;
}

.PageHeader__logo {
	padding-right: convertScaleToRem(4);

	img {
		margin: 0;
		vertical-align: text-bottom;
	}
}

.PageHeader__nav {
	@extend .List;
	@extend .List--inline;
}

.PageHeader__nav-link {
	text-decoration: none;
	font-weight: $t-bold;
	color: $light-grey;
	font-size: $t-2;
	display: inline-block;
	outline: none;

	&:hover,
	&.is-open {
		color: $lightest-blue;
	}
}

.PageHeader__nav-link.is-active,
.PageHeader__nav-link--active {
	@extend .t-white;
	@extend .border-bottom-1;
	@extend .border-blue;
	@extend .border-solid;

	&:hover,
	&.is-open {
		color: #fff;
	}
}

.PageHeader__subnav {
	@extend .List;
	@extend .List--inline;
	padding-left: convertScaleToRem(4);
}

.PageHeader__subnav-link {
	text-decoration: none;
	color: #fff;
	font-size: $t-2;
	display: inline-block;

	.icon {
		opacity: .3;
	}

	&:hover,
	&.is-open {
		color: $lightest-blue;

		.icon {
			opacity: 1;
		}
	}
}

button.PageHeader__subnav-link {
	background: transparent;
	border-width: 0;
	cursor: pointer;
	outline: none;
}

.PageHeader.mobile-is-open {
	background: $black;
	min-height: 100vh;
	margin-bottom: 0;

	// Hide all other page elements other than nav
	& + * {
		display: none;
	}

	.PageHeader__container {
		display: block;

		> * {
			display: block;
			margin-top: 0;
			margin-left: auto; margin-right: auto;
			margin-bottom: 3em !important;
			padding: 0;
			text-align: center;
			width: 100%;

			> li {
				display: block;
				margin: 0 0 1.5rem !important;
			}
		}
	}

	.PageHeader__subnav {
		padding: 0;
	}

	.popover {
		position: static;
		margin: 0;
		transform: translateX(0) translateY(-5px);
	}

	.popover.is-open {
		margin: convertScaleToRem(3) auto;
		transform: none !important;
	}

	.PageHeader__mobile-button button {
		position: absolute;
		top: convertScaleToRem(3);
		right: convertScaleToRem(3);
	}
}

// Breakpoint Mixin!
@mixin PageHeader--responsive($bp) {
	@media (max-width: $bp - 1px) {
		.PageHeader__only-show-small {/* let stay default */ }
		.PageHeader__only-show-large { display: none !important; }
	}
	@media (min-width: $bp) {
		.PageHeader__only-show-small { display: none !important; }
		.PageHeader__only-show-large { /* let stay default */ }
	}
}

// Predefined breakpoints!
.PageHeader--responsive-s { @include PageHeader--responsive(600px) }
.PageHeader--responsive-m { @include PageHeader--responsive(900px) }
.PageHeader--responsive-l { @include PageHeader--responsive(1400px) }

// Custom breakpoints (write this within an app)
// .PageHeader { @include PageHeader--responsive(756px) }
