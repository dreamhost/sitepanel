/*

Page Header Component

	The page header is the bar at the top of every DreamHost application
	that contains the logo and navigation

	Basic guidelines:
	- Logo:
		- For internal sites (employees & customers), the moon symbol is enough
		- For external sites (non-customers), use the full DreamHost logo
	- Colors:
		- Default state is dark blue/black
		- There is `.PageHeader--overlay` that makes the bar transparent and overlap
			any other content on the page. E.g. overlapping a nice big marketing photo
	- Page header content can vary. Use `.Fluid-Row` classes to space content.
	- `.PageHeader__nav` should contain the primary navigation
	- `.PageHeader__subnav` is for all the secondary links we may need to provide
	- Both nav and subnav supports Lists within a `.Popover` as a dropdown
	- The header was built around the idea of a single breakpoint. Below that breakpoint,
		the header will show a hamburger menu link with the header taking over the screen
		when shown. Larger than that breakpoint will display the header inline.
	- There are some built-in responsive classes also but they will be inaccurate for most
		instances of the header. For specific breakpoints, you should use
		the `PageHeader--responsive()` mixin in the app specific CSS


	Usage:
	<div class="PageHeader (PageHeader--responsive-[s/m/l])">
		<div class="PageHeader__container">
			<a class="PageHeader__logo" href="//www.dreamhost.com"><img src="https://www.dreamhost.com/assets/images/logo.dreamhost.white.svg" width="157" height="23"></a>
			<ul class="PageHeader__nav PageHeader__only-show-large">
				<li><a class="PageHeader__nav-link is-active" href="#">Link</a></li>
			</ul>
			<ul class="PageHeader__subnav PageHeader__only-show-small t-right">
				<li><button class="PageHeader__subnav-link js-toggle-mobile-menu">
					<svg class="Icon Icon-hamburger" viewBox="0 0 24 18">
						<path d="M0 5.9L0 7.1C0 7.1 0 7.1 0 7.1L24 7.1C24 7.1 24 7.1 24 7.1L24 5.9C24 5.9 24 5.9 24 5.9L0 5.9C0 5.9 0 5.9 0 5.9ZM0 0.9L0 2.1C0 2.1 0 2.1 0 2.1L24 2.1C24 2.1 24 2.1 24 2.1L24 0.9C24 0.9 24 0.9 24 0.9L0 0.9C0 0.9 0 0.9 0 0.9ZM0 15.9L0 17.1C0 17.1 0 17.1 0 17.1L24 17.1C24 17.1 24 17.1 24 17.1L24 15.9C24 15.9 24 15.9 24 15.9L0 15.9C0 15.9 0 15.9 0 15.9ZM0 12.2C0 12.2 24 12.2 24 12.2L24 10.9C24 10.9 0 10.9 0 10.9L0 12.2Z"></path>
					</svg><!-- remove whitespace
					-->Menu
				</button></li>
			</ul>
		</div>
	</div>

*/

.PageHeader {
	padding: convertScaleToRem(3.5) 0;
	background: $c-b700;
	color: #fff;
}

.PageHeader--overlay {
	background: transparent;
	position: absolute;
	width: 100%;
	z-index: $z-3;
}

.PageHeader__container {
	@include clearfix;
	display: block;
	max-width: 1280px;
	width: 100%;
	margin-left: auto;
	margin-right: auto;

	> * {
		@extend .Fluid-Row__item;
	}

	.Popover__section {
		font-weight:$t-bold;
		text-align:left;

		ul{
			&:not(:first-child) {
				border-top: solid 1px $c-g100;
			}
		}

		.List li a {
			display:block;
			font-size: 0.875em;
			color: $c-g500;
			@include transition (all $tr-3 ease-in-out);

			&:hover {
				text-decoration: none;
				color: $c-b300;
			}
		}
	}
}

.PageHeader__nav,
.PageHeader__mobile-button {
	@extend .Fluid-Row__item--primary;
}

.PageHeader__logo {
	padding-right:  convertScaleToRem(8);
	background-image: url("data:image/svg+xml;base64,PHN2ZyBkYXRhLW5hbWU9IkxheWVyIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjggMThhMTMuMDUgMTMuMDUgMCAwIDEtNi41OCAxLjY0IDEyLjc2IDEyLjc2IDAgMCAxLTEyLjU1LTEzQTEyLjM3IDEyLjM3IDAgMCAxIDYuNDkuMjMgMTIuNjkgMTIuNjkgMCAwIDAgMTIuNTYgMjRhMTIuODEgMTIuODEgMCAwIDAgMTEuMTItNiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xNyAxOC4xN2guMjNhMTEuNDMgMTEuNDMgMCAwIDAgNS4yOC0xLjMxQTExIDExIDAgMCAwIDI0IDExLjIyIDExLjE3IDExLjE3IDAgMCAwIDEzIDBhMTEuMTkgMTEuMTkgMCAwIDAtNS4zMSAxLjM2IDExIDExIDAgMCAwLTEuNjIgNS41QTExLjEgMTEuMSAwIDAgMCAxNyAxOC4xNyIgZmlsbD0iIzNlOTViZSIvPjwvc3ZnPg==");
	background-repeat: no-repeat;
}

.PageHeader__nav {
	@extend .List;
	@extend .List--inline;
}

.PageHeader__nav-link {
	text-decoration: none;
	font-weight: 700;
	color: $c-g200;
	font-size: $t-2;
	display: inline-block;
	outline: none;
	position: relative;

	&:hover,
	&.is-open {
		color: $c-w100;
		text-decoration: none;

		&:after{
			color:$c-b300;
		}
	}
}

.PageHeader__nav-link.is-active,
.PageHeader__nav-link--active {
	@extend .t-white;

	&:hover,
	&.is-open {
		color: #fff;
	}

	&:before {
		content: "";
		position: absolute;
		left: 0;
		right: 0;
		bottom: 0;
		background: $c-b300;
		height: 2px;
		animation: UnderlineEmphasis $a-3 ease-in-out;
	}
}

.PageHeader__subnav {
	@extend .List;
	@extend .List--inline;
	margin-right: 2.5em;
	padding-left: convertScaleToRem(4);

	a {
		text-decoration: none;

		svg {
			height: 100%;
			width: 100%;
		}
	}
}

.PageHeader__subnav-link {
	text-decoration: none;
	color: $c-g200;
	display: inline-block;

	.Icon {
		margin-right: 0;
		width: convertScaleToRem(3);
		height: convertScaleToRem(3);
	}

	&:hover,
	&.is-open {
		color: $c-w100;

		.Icon {
			fill: $c-w100;
		}

		&:after{
			color: $c-b300;
		}
	}
}

.PageHeader__notification-amount{
	display:inline-block;
	background:$c-r300;
	padding:1px 4px;
	border-radius: 50px;
	width:convertScaleToRem(2);
	height:convertScaleToRem(2);
	font-weight:$t-bold;
	text-align: center;
	vertical-align: middle;
	color: $c-w100;
	transform: translate(18px, -4px);
}

button.PageHeader__subnav-link {
	background: transparent;
	border-width: 0;
	cursor: pointer;
	outline: none;

	&:after {
		vertical-align: top;
		margin-top: 12px;
		margin-left: 4px;

		&:hover:after{
			color:$c-b300;
		}
	}
}

.PageHeader.mobile-is-open {
	background: $black;
	min-height: 100vh;
	margin-bottom: 0;

	// Hide all other page elements other than nav
	& + * {
		display: none;
	}

	.PageHeader__container {
		display: block;

		> * {
			display: block;
			margin-top: 0;
			margin-left: auto; margin-right: auto;
			margin-bottom: 3em !important;
			padding: 0;
			text-align: center;
			width: 100%;

			> li {
				display: block;
				margin: 0 0 1.5rem !important;
			}
		}
	}

	.PageHeader__subnav {
		padding: 0;
	}

	.Popover {
		position: static;
		margin: 0;
		padding:1em;
		transform: translateX(0) translateY(-5px);
	}

	.Popover.is-open {
		margin: convertScaleToRem(3) auto;
		transform: none !important;
	}

	.PageHeader__mobile-button button {
		position: absolute;
		top: convertScaleToRem(3);
		right: convertScaleToRem(3);
	}
}

//Animation
@keyframes UnderlineEmphasis {
	0% {
	right: 100%;
	}

	100% {
	right: 0;
	}
}

// Breakpoint Mixin!
@mixin PageHeader--responsive($bp) {
	@media (max-width: $bp - 1px) {
		.PageHeader__only-show-small {/* let stay default */ }
		.PageHeader__only-show-large { display: none !important; }
	}
	@media (min-width: $bp) {
		.PageHeader__only-show-small { display: none !important; }
		.PageHeader__only-show-large { /* let stay default */ }
	}
}

// Predefined breakpoints!
.PageHeader--responsive-s { @include PageHeader--responsive(600px) }
.PageHeader--responsive-m { @include PageHeader--responsive(900px) }
.PageHeader--responsive-l { @include PageHeader--responsive(1400px) }

// Custom breakpoints (write this within an app)
// .PageHeader { @include PageHeader--responsive(756px) }
